{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      anv: \"1\",\n      videoID: \"\",\n      videoType: \"全部\",\n      principleID: \"\",\n      videoInfo: [],\n      err: \"警员不存在！\",\n      boxContent: \"\"\n    };\n  },\n  methods: {\n    handleMouseMove(event) {\n      const x = event.pageX - event.target.offsetLeft;\n      const y = event.pageY - event.target.offsetTop;\n      event.target.style.setProperty('--x', `${x}px`);\n      event.target.style.setProperty('--y', `${y}px`);\n    },\n    fetchvideoInfo() {\n      axios.post(\"http://localhost:7078/api/videoInfo\", {\n        videoID: this.videoID,\n        videoType: this.videoType,\n        principleID: this.principleID\n      }).then(res => {\n        this.videoInfo = res.data;\n        console.log(res.data);\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    },\n    delvideoInfo(event, avideoID) {\n      axios.post('http://localhost:7078/api/delvideoInfo', {\n        videoID: avideoID\n      }).then(res => {\n        this.videoInfo = res.data;\n        console.log(res.data);\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    },\n    addvideoInfo(event, avideoID) {\n      axios.post('http://localhost:7078/api/addvideoInfo', {\n        videoID: this.videoID,\n        videoType: this.videoType,\n        principleID: this.principleID,\n        recordTime: this.recordTime,\n        uploadTime: this.uploadTime\n      }).then(res => {\n        this.videoInfo = res.data;\n        console.log(res.data);\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","anv","videoID","videoType","principleID","videoInfo","err","boxContent","methods","handleMouseMove","event","x","pageX","target","offsetLeft","y","pageY","offsetTop","style","setProperty","fetchvideoInfo","post","then","res","console","log","catch","delvideoInfo","avideoID","addvideoInfo","recordTime","uploadTime"],"sources":["C:\\GitHubWarehouse\\2023-TJU-DBD-Police-Affair-System\\My-front\\dbproject\\src\\components\\PoliceManagement\\VideoManagement.vue"],"sourcesContent":["<template>\n  <el-header class=\"sub-header\" @mousemove=\"handleMouseMove\">\n    <div>&nbsp;&nbsp;警员管理&nbsp;>&nbsp;执法录像管理</div>\n  </el-header>\n  <el-tabs v-model=\"anv\" type=\"border-card\" style=\"margin-top: 10vh;\">\n    <el-tab-pane label=\"查询录像\" name=\"1\">\n      <div style=\"text-align: center;\">\n        <section>\n          <div class=\"inputcontainer\">\n            <td>\n            <label style=\"position: relative; display: block\">\n              <el-text class=\"noteText\" type=\"primary\">输入录像ID:</el-text>\n              <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"videoID\" placeholder=\"录像ID\" clearable maxlength=\"5\"\n                oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit/>\n            </label>\n          </td>\n            <td>\n            <label style=\"position: relative; display: block\">\n              <el-text class=\"noteText\" type=\"primary\">输入警员的警号:</el-text>\n              <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"principleID\" placeholder=\"涉及警员的警号\" clearable maxlength=\"7\"\n                oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit />\n            </label>\n            </td>\n            <el-text class=\"noteTexta\" type=\"primary\">选择录像类别:</el-text>\n            <select class=\"zyhselect\" v-model=\"videoType\">\n                  <option selected value=\"全部\">全部录像</option>\n                  <option value=\"审讯\">审讯</option>\n                  <option value=\"监控\">监控</option>\n                  <option value=\"调查\">调查</option>\n              </select>\n          </div>\n          <div class=\"btncontainer\">\n            <button class=\"ssqbutton1\" @click=\"fetchvideoInfo\" @mousemove=\"handleMouseMove\">\n               <span>查询</span>\n                </button>\n          </div>\n          <!-- 表格显示获取的警员信息 -->\n          <el-table v-if=\"true\" :data=\"videoInfo\" stripe height=\"450\" @wheel.passive.stop>\n            <el-table-column prop=\"videoID\" label=\"录像编号\" sortable/>\n            <el-table-column prop=\"recordTime\" label=\"记录时间\" sortable/>\n            <el-table-column prop=\"uploadTime\" label=\"上传时间\" sortable/>\n            <el-table-column prop=\"videoType\" label=\"录像类型\" sortable/>\n            <el-table-column prop=\"principleID\" label=\"涉及警员的警号\" sortable/>\n            <el-table-column align=\"right\" width=\"100px\"></el-table-column>\n          </el-table>\n          <!-- 错误提示 -->\n          <div v-else>{{ boxContent }}</div>\n        </section>\n      </div>\n    </el-tab-pane>\n\n    <el-tab-pane label=\"删除录像\" name=\"2\">\n      <div style=\"text-align: center;\">\n        <table style=\"display: inline-block;text-align: left;\">\n          <section>\n            <div class=\"inputcontainer\">\n              <label style=\"position: relative; display: block\">\n                <el-text class=\"noteText\" type=\"primary\">输入录像ID</el-text>\n                <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"videoID\" placeholder=\"录像ID\" clearable maxlength=\"5\"\n                oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit />\n                </label>\n            </div>\n            <div class=\"btncontainer\">\n              <button class=\"ssqbutton1\" @click=\"delvideoInfo($event, videoID)\" @mousemove=\"handleMouseMove\">\n                  <span>删除</span>\n                   </button>\n            </div>\n          </section>\n        </table>\n      </div>\n    </el-tab-pane>\n    <el-tab-pane label=\"增加录像\" name=\"3\">\n      <div style=\"text-align: center;\">\n        <table style=\"display: inline-block;text-align: left;\">\n          <section>\n            <div class=\"container\">\n              <el-card>\n                <el-form label-width=\"80px\">\n                  <el-form-item label=\"视频上传\">\n                    <input ref=\"video-file\" type=\"file\">\n                  </el-form-item>\n                  <el-form-item>\n                    <el-button type=\"primary\">开始上传</el-button>\n                    <el-button>返回</el-button>\n                  </el-form-item>\n                </el-form>\n              </el-card>\n            </div>\n            <div class=\"inputcontainer\">\n              <label style=\"position: relative; display: block\">\n                  <el-text class=\"noteText\" type=\"primary\">输入录像ID</el-text>\n                    <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"videoID\" placeholder=\"录像ID\" clearable maxlength=\"5\"\n                oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit/>\n                    </label>\n              <label style=\"position: relative; display: block\">\n                  <el-text class=\"noteText\" type=\"primary\">输入涉及警员的警号</el-text>\n                     <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"principleID\" placeholder=\"涉及警员的警号\" clearable maxlength=\"7\"\n                oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit/>\n                    </label>\n              <el-text class=\"noteTexta\" type=\"primary\">选择录像类别</el-text>\n              <select class=\"zyhselect\" v-model=\"videoType\">\n                <option selected value=\"全部\">全部录像</option>\n                <option value=\"审讯\">审讯</option>\n                <option value=\"监控\">监控</option>\n                <option value=\"调查\">调查</option>\n              </select>\n            </div>\n            <div class=\"btncontainer\">\n              <button class=\"ssqbutton1\" @click=\"addvideoInfo\" @mousemove=\"handleMouseMove\">\n                                                                      <span>增加</span>\n                                                                    </button>\n            </div>\n          </section>\n        </table>\n      </div>\n    </el-tab-pane>\n  </el-tabs>\n</template>\n\n<script>\n  import axios from \"axios\";\n  export default {\n    data() {\n      return {\n        anv: \"1\",\n        videoID: \"\",\n        videoType: \"全部\",\n        principleID: \"\",\n        videoInfo: [],\n        err: \"警员不存在！\",\n        boxContent: \"\",\n      };\n    },\n    methods: {\n      handleMouseMove(event) {\n        const x = event.pageX - event.target.offsetLeft;\n        const y = event.pageY - event.target.offsetTop;\n        event.target.style.setProperty('--x', `${x}px`);\n        event.target.style.setProperty('--y', `${y}px`);\n      },\n      fetchvideoInfo() {\n        axios\n          .post(\"http://localhost:7078/api/videoInfo\", {\n            videoID: this.videoID,\n            videoType: this.videoType,\n            principleID: this.principleID,\n          })\n          .then((res) => {\n            this.videoInfo = res.data;\n            console.log(res.data);\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          });\n      },\n      delvideoInfo(event, avideoID) {\n        axios\n          .post('http://localhost:7078/api/delvideoInfo', {\n            videoID: avideoID,\n          })\n          .then((res) => {\n            this.videoInfo = res.data;\n            console.log(res.data);\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          });\n      },\n      addvideoInfo(event, avideoID) {\n        axios\n          .post('http://localhost:7078/api/addvideoInfo', {\n            videoID: this.videoID,\n            videoType: this.videoType,\n            principleID: this.principleID,\n            recordTime: this.recordTime,\n            uploadTime: this.uploadTime,\n          })\n          .then((res) => {\n            this.videoInfo = res.data;\n            console.log(res.data);\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          });\n      }\n    },\n  };\n</script>\n\n<style lang=\"postcss\" scoped>\n  .sub-header {\n    overflow: hidden;\n    display: flex;\n    position: absolute;\n    top: 70px;\n    left: 199px;\n    width: calc(100% - 199px);\n    height: 7vh;\n    min-height: 40px;\n    align-items: center;\n    /* 文字竖直方向居中对齐 */\n    background-color: #1f2cdf;\n    box-shadow: inset -500px 0px 200px 0px rgba(4, 0, 113, 0.856);\n    color: #ffffff;\n    font-size: 28px;\n  }\n  .sub-header::before {\n    --size: 0;\n    content: '';\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #5a65ff, transparent);\n    transform: translate(-50%, -50%);\n    transition: width .2s ease, height .2s ease;\n  }\n  .sub-header:hover::before {\n    --size: 400px;\n  }\n  .main {\n    margin-top: 10vh;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    width: 100%;\n    height: 120vh;\n    min-width: 800px;\n  }\n  .ssqinputinfobox {\n    position: relative;\n    width: 10vw;\n    display: inline-block;\n  }\n  .ssqinputtext {\n    text-align: center;\n    margin-top: 7vh;\n    margin-left: 5vw;\n    margin-right: 2vw;\n    width: auto;\n    display: inline-block;\n  }\n  .noteText {\n    margin-top: 6vh;\n    font-size: 18px;\n    text-align: center;\n    width: 10vw;\n    display: inline-block;\n  }\n  input {\n    margin-top: 6vh;\n    display: block;\n    width: 10vw;\n    padding: 0.8em;\n    outline: none;\n    border: 1px solid #e3e3e3;\n    border-radius: 2px;\n  }\n  .noteTexta {\n    font-size: 18px;\n    text-align: right;\n    margin-bottom: 3.5vh;\n    width: 10vw;\n    display: inline-block;\n  }\n  input {\n    margin-top: 5vh;\n    margin-right: 8vh;\n    text-align: left;\n    display: block;\n    width: 10vw;\n    padding: 0.8em;\n    outline: none;\n    border: 1px solid #e3e3e3;\n    border-radius: 2px;\n  }\n  .zyhselect {\n    margin-top: 5vh;\n    display: block;\n    width: 10vw;\n    padding: 0.8em;\n    outline: none;\n    border: 1px solid #e3e3e3;\n    border-radius: 2px;\n    margin-left: 1vw;\n    margin-right: 5vw;\n    margin-top: 5vh;\n    margin-bottom: 8vh;\n  }\n  .inputcontainer,\n  .selectcontainer {\n    display: flex;\n    align-content: center;\n  }\n  .btncontainer {\n    display: flex;\n    justify-content: center;\n  }\n  .leftbtn {\n    margin-right: 5vw;\n  }\n  .maintable {\n    flex-direction: column;\n    align-content: center;\n    justify-content: center;\n    text-align: center;\n    margin: 20px auto;\n    width: 75vw;\n    height: 75vh;\n  }\n  .table {\n    position: relative;\n    width: 100%;\n    border: 1px solid #ccc;\n    text-align: center;\n    tbody {\n      border-collapse: separate;\n      height: 100%;\n    }\n    td,\n    th {\n      padding: 5px;\n      border: 1px solid #ccc;\n    }\n  }\n  .rolltable {\n    top: -1px;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    background: linear-gradient(#fff, transparent) top / 100% 100px, radial-gradient(at 50% -15px, rgba(0, 0, 0, 0.8), transparent 70%) top / 100000% 12px;\n    background-repeat: no-repeat;\n    background-attachment: local, scroll;\n  }\n  .ssqbutton1 {\n    margin-top: 3vh;\n    margin-bottom: 5vh;\n    width: 150px;\n    height: 40px;\n    padding: 0 30px;\n    line-height: 60px;\n    text-align: center;\n    position: relative;\n    appearance: none;\n    background: #dfd8c8;\n    border: none;\n    color: white;\n    font-size: 1.2em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    border-radius: 100px;\n  }\n  .ssqbutton1 span {\n    position: relative;\n    top: -20%;\n  }\n  .ssqbutton1::before {\n    --size: 0;\n    content: \"\";\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #0b72bbb2, transparent);\n    transform: translate(-50%, -50%);\n    transition: width 0.2s ease, height 0.2s ease;\n  }\n  .ssqbutton1:hover::before {\n    --size: 400px;\n  }\n  .ssqbutton1-1 {\n    margin: 10px auto;\n    width: 150px;\n    height: 40px;\n    padding: 0 30px;\n    line-height: 60px;\n    text-align: center;\n    position: relative;\n    appearance: none;\n    background: #0b71bb;\n    border: none;\n    color: white;\n    font-size: 1.2em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    border-radius: 0px;\n  }\n  .ssqbutton1-1 span {\n    position: relative;\n    top: -20%;\n  }\n  .ssqbutton1-1::before {\n    --size: 0;\n    content: \"\";\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #abc9de, transparent);\n    transform: translate(-50%, -50%);\n    transition: width 0.2s ease, height 0.2s ease;\n  }\n  .ssqbutton1-1:hover::before {\n    --size: 400px;\n  }\n  .ssqbutton1-2 {\n    margin: 10px auto;\n    width: 150px;\n    height: 40px;\n    padding: 0 30px;\n    line-height: 60px;\n    text-align: center;\n    position: relative;\n    appearance: none;\n    background: #dfd8c8;\n    border: none;\n    color: white;\n    font-size: 1.2em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    border-radius: 0px;\n  }\n  .ssqbutton1-2 span {\n    position: relative;\n    top: -20%;\n  }\n  .ssqbutton1-2::before {\n    --size: 0;\n    content: \"\";\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #99c4e5, transparent);\n    transform: translate(-50%, -50%);\n    transition: width 0.2s ease, height 0.2s ease;\n  }\n  .ssqbutton1-2:hover::before {\n    --size: 400px;\n  }\n</style>\n"],"mappings":"AAwHE,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,GAAG;MACRC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE,IAAI;MACfC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,GAAG,EAAE,QAAQ;MACbC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAACC,KAAK,EAAE;MACrB,MAAMC,CAAA,GAAID,KAAK,CAACE,KAAI,GAAIF,KAAK,CAACG,MAAM,CAACC,UAAU;MAC/C,MAAMC,CAAA,GAAIL,KAAK,CAACM,KAAI,GAAIN,KAAK,CAACG,MAAM,CAACI,SAAS;MAC9CP,KAAK,CAACG,MAAM,CAACK,KAAK,CAACC,WAAW,CAAC,KAAK,EAAG,GAAER,CAAE,IAAG,CAAC;MAC/CD,KAAK,CAACG,MAAM,CAACK,KAAK,CAACC,WAAW,CAAC,KAAK,EAAG,GAAEJ,CAAE,IAAG,CAAC;IACjD,CAAC;IACDK,cAAcA,CAAA,EAAG;MACfrB,KAAI,CACDsB,IAAI,CAAC,qCAAqC,EAAE;QAC3CnB,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,WAAW,EAAE,IAAI,CAACA;MACpB,CAAC,EACAkB,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAClB,SAAQ,GAAIkB,GAAG,CAACvB,IAAI;QACzBwB,OAAO,CAACC,GAAG,CAACF,GAAG,CAACvB,IAAI,CAAC;MACvB,CAAC,EACA0B,KAAK,CAAEpB,GAAG,IAAK;QACd,IAAI,CAACC,UAAS,GAAI,IAAI,CAACD,GAAG;QAC1BkB,OAAO,CAACC,GAAG,CAACnB,GAAG,CAAC;MAClB,CAAC,CAAC;IACN,CAAC;IACDqB,YAAYA,CAACjB,KAAK,EAAEkB,QAAQ,EAAE;MAC5B7B,KAAI,CACDsB,IAAI,CAAC,wCAAwC,EAAE;QAC9CnB,OAAO,EAAE0B;MACX,CAAC,EACAN,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAClB,SAAQ,GAAIkB,GAAG,CAACvB,IAAI;QACzBwB,OAAO,CAACC,GAAG,CAACF,GAAG,CAACvB,IAAI,CAAC;MACvB,CAAC,EACA0B,KAAK,CAAEpB,GAAG,IAAK;QACd,IAAI,CAACC,UAAS,GAAI,IAAI,CAACD,GAAG;QAC1BkB,OAAO,CAACC,GAAG,CAACnB,GAAG,CAAC;MAClB,CAAC,CAAC;IACN,CAAC;IACDuB,YAAYA,CAACnB,KAAK,EAAEkB,QAAQ,EAAE;MAC5B7B,KAAI,CACDsB,IAAI,CAAC,wCAAwC,EAAE;QAC9CnB,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7B0B,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BC,UAAU,EAAE,IAAI,CAACA;MACnB,CAAC,EACAT,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAClB,SAAQ,GAAIkB,GAAG,CAACvB,IAAI;QACzBwB,OAAO,CAACC,GAAG,CAACF,GAAG,CAACvB,IAAI,CAAC;MACvB,CAAC,EACA0B,KAAK,CAAEpB,GAAG,IAAK;QACd,IAAI,CAACC,UAAS,GAAI,IAAI,CAACD,GAAG;QAC1BkB,OAAO,CAACC,GAAG,CAACnB,GAAG,CAAC;MAClB,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}