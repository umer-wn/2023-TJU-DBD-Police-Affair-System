{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      anv: \"1\",\n      show: true,\n      policemenNumber: \"\",\n      policemenName: \"\",\n      policemenStatus: \"全部\",\n      policemenPosition: \"全部\",\n      policemenInfo: [],\n      err: \"警员不存在！\",\n      boxContent: \"\"\n    };\n  },\n  methods: {\n    handleMouseMove(event) {\n      const x = event.pageX - event.target.offsetLeft;\n      const y = event.pageY - event.target.offsetTop;\n      event.target.style.setProperty('--x', `${x}px`);\n      event.target.style.setProperty('--y', `${y}px`);\n    },\n    info() {\n      console.log(\"警号：\" + this.policemenNumber);\n      console.log(\"姓名：\" + this.policemenName);\n      console.log(\"状态：\" + this.policemenStatus);\n      console.log(\"职务：\" + this.policemenPosition);\n    },\n    fetchpolicemenInfo() {\n      axios.post(\"http://localhost:7078/api/policemenInfo\", {\n        policemenNumber: this.policemenNumber,\n        policemenName: this.policemenName,\n        policemenStatus: this.policemenStatus,\n        policemenPosition: this.policemenPosition\n      }).then(res => {\n        this.policemenInfo = res.data;\n        for (var i = 0; i < this.policemenInfo.length; i++) {\n          if (this.policemenInfo[i].gender === \"F\") {\n            this.policemenInfo[i].gender = \"女\";\n          } else if (this.policemenInfo[i].gender === \"M\") {\n            this.policemenInfo[i].gender = \"男\";\n          }\n        }\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    },\n    delpolicemenInfo(event, apolicemenNumber) {\n      axios.delete(\"http://localhost:7078/api/delpolicemenInfo\", {\n        policemenNumber: apolicemenNumber\n      }).then(res => {\n        this.policemenInfo = res.data;\n        console.log(res.data);\n        location.reload();\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","anv","show","policemenNumber","policemenName","policemenStatus","policemenPosition","policemenInfo","err","boxContent","methods","handleMouseMove","event","x","pageX","target","offsetLeft","y","pageY","offsetTop","style","setProperty","info","console","log","fetchpolicemenInfo","post","then","res","i","length","gender","catch","delpolicemenInfo","apolicemenNumber","delete","location","reload"],"sources":["C:\\GitHubWarehouse\\2023-TJU-DBD-Police-Affair-System\\My-front\\dbproject\\src\\components\\PoliceManagement\\PoliceOfficerInfoManagement.vue"],"sourcesContent":["<template>\n  <el-header class=\"sub-header\" @mousemove=\"handleMouseMove\">\n    <div>&nbsp;&nbsp;警员管理&nbsp;>&nbsp;警员信息管理</div>\n  </el-header>\n  <el-tabs v-model=\"anv\" type=\"border-card\" style=\"margin-top: 10vh;\">\n    <el-tab-pane label=\"查询警员信息\" name=\"1\">\n      <div style=\"text-align: center;\">\n        <section>\n          <div class=\"inputcontainer\">\n            <el-text class=\"noteText\" type=\"primary\">警员ID:</el-text>\n            <el-input class=\"inputBox\" type=\"text\" v-model=\"policemenNumber\" placeholder=\"警员ID\" clearable maxlength=\"7\"\n            oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit />\n            <el-text class=\"noteText\" type=\"primary\">警员姓名:</el-text>\n            <el-input class=\"inputBox\" type=\"text\" v-model=\"policemenName\" placeholder=\"警员姓名\" />\n          </div>\n          <div class=\"inputcontainer\">\n            <el-text class=\"noteText\" type=\"primary\">工作状态:</el-text>\n            <el-select class=\"inputBox\" v-model=\"policemenStatus\">\n              <el-option selected value=\"全部\">全部</el-option>\n              <el-option value=\"在职\">在职</el-option>\n              <el-option value=\"离职\">离职</el-option>\n            </el-select>\n            <el-text class=\"noteText\" type=\"primary\">选择职务:</el-text>\n            <el-select class=\"inputBox\" v-model=\"policemenPosition\">\n              <el-option selected value=\"全部\">全部</el-option>\n              <el-option value=\"学员\">学员</el-option>\n              <el-option value=\"警员\">警员</el-option>\n              <el-option value=\"警司\">警司</el-option>\n              <el-option value=\"警督\">警督</el-option>\n              <el-option value=\"警监\">警监</el-option>\n              <el-option value=\"总警监\">总警监</el-option>\n            </el-select>\n          </div>\n          <div class=\"seaButton\">\n            <el-button type=\"primary\" @click=\"fetchpolicemenInfo\">\n              <span>查询</span>\n            </el-button>\n          </div>\n          <el-table v-if=\"true\" :data=\"policemenInfo\" stripe height=\"450\" @wheel.passive.stop>\n            <el-table-column prop=\"policemenNumber\" label=\"警号\" sortable/>\n            <el-table-column prop=\"policemenName\" label=\"姓名\" />\n            <el-table-column prop=\"idNumber\" label=\"身份证号\" width=\"200px\" />\n            <el-table-column prop=\"birthday\" label=\"出生日期\" />\n            <el-table-column prop=\"gender\" label=\"性别\" />\n            <el-table-column prop=\"nation\" label=\"民族\" />\n            <el-table-column prop=\"phoneNumber\" label=\"联系电话\" />\n            <el-table-column prop=\"policemenStatus\" label=\"状态\" />\n            <el-table-column prop=\"policemenPosition\" label=\"职务\" />\n          </el-table>\n          <!-- 错误提示 -->\n          <div v-else>{{ boxContent }}</div>\n        </section>\n      </div>\n    </el-tab-pane>\n    <el-tab-pane label=\"删除警员信息\" name=\"2\">\n      <div style=\"text-align: center;\">\n        <section>\n          <div class=\"inputcontainer\">\n            <el-text class=\"noteTexta\" type=\"primary\">输入警员ID</el-text>\n            <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"policemenNumber\" placeholder=\"警员ID\" clearable maxlength=\"7\"\n            oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit />\n          </div>\n          <div class=\"seaButton\">\n            <el-button type=\"primary\" @click=\"delpolicemenInfo($event, this.policemenNumber)\">\n              <span>删除</span>\n            </el-button>\n          </div>\n        </section>\n      </div>\n    </el-tab-pane>\n  </el-tabs>\n</template>\n\n<script>\n  import axios from \"axios\";\n  export default {\n    data() {\n      return {\n        anv: \"1\",\n        show: true,\n        policemenNumber: \"\",\n        policemenName: \"\",\n        policemenStatus: \"全部\",\n        policemenPosition: \"全部\",\n        policemenInfo: [],\n        err: \"警员不存在！\",\n        boxContent: \"\",\n      };\n    },\n    methods: {\n      handleMouseMove(event) {\n        const x = event.pageX - event.target.offsetLeft;\n        const y = event.pageY - event.target.offsetTop;\n        event.target.style.setProperty('--x', `${x}px`);\n        event.target.style.setProperty('--y', `${y}px`);\n      },\n      info() {\n        console.log(\"警号：\" + this.policemenNumber);\n        console.log(\"姓名：\" + this.policemenName);\n        console.log(\"状态：\" + this.policemenStatus);\n        console.log(\"职务：\" + this.policemenPosition);\n      },\n      fetchpolicemenInfo() {\n        axios\n          .post(\"http://localhost:7078/api/policemenInfo\", {\n            policemenNumber: this.policemenNumber,\n            policemenName: this.policemenName,\n            policemenStatus: this.policemenStatus,\n            policemenPosition: this.policemenPosition,\n          })\n          .then((res) => {\n            this.policemenInfo = res.data;\n            for (var i = 0; i < this.policemenInfo.length; i++) {\n              if (this.policemenInfo[i].gender === \"F\") {\n                this.policemenInfo[i].gender = \"女\";\n              } else if (this.policemenInfo[i].gender === \"M\") {\n                this.policemenInfo[i].gender = \"男\";\n              }\n            }\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          });\n      },\n      delpolicemenInfo(event, apolicemenNumber) {\n        axios.delete(\"http://localhost:7078/api/delpolicemenInfo\", {\n            policemenNumber: apolicemenNumber,\n          })\n          .then((res) => {\n            this.policemenInfo = res.data;\n            console.log(res.data);\n            location.reload();\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          })\n      },\n    }\n  }\n</script>\n\n<style lang=\"postcss\" scoped>\n  .sub-header {\n    overflow: hidden;\n    display: flex;\n    position: absolute;\n    top: 70px;\n    left: 199px;\n    width: calc(100% - 199px);\n    height: 7vh;\n    min-height: 40px;\n    align-items: center;\n    /* 文字竖直方向居中对齐 */\n    background-color: #1f2cdf;\n    box-shadow: inset -500px 0px 200px 0px rgba(4, 0, 113, 0.856);\n    color: #ffffff;\n    font-size: 28px;\n  }\n  .sub-header::before {\n    --size: 0;\n    content: '';\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #5a65ff, transparent);\n    transform: translate(-50%, -50%);\n    transition: width .2s ease, height .2s ease;\n  }\n  .sub-header:hover::before {\n    --size: 400px;\n  }\n  .noteText {\n    font-size: 18px;\n    text-align: center;\n    margin: 20px 0px;\n    width: 10vw;\n    display: inline-block;\n  }\n  .noteTexta {\n    font-size: 18px;\n    text-align: center;\n    width: 10vw;\n    display: inline-block;\n  }\n  input {\n    margin-top: 4.5vh;\n    margin-bottom: 1vh;\n    display: block;\n    width: 10vw;\n    padding: 0.8em;\n    outline: none;\n    border: 1px solid #e3e3e3;\n    border-radius: 2px;\n  }\n  .main {\n    margin-top: 10vh;\n    justify-content: center;\n    align-content: center;\n    width: 100%;\n    height: 120vh;\n    min-width: 800px;\n  }\n  .ssqinputinfobox {\n    display: inline-block;\n    width: 200px;\n    height: 32px;\n    margin: 20px 10px;\n  }\n  .ssqinputtext {\n    text-align: center;\n    margin-top: 7vh;\n    margin-right: 2vw;\n    width: 15vw;\n    display: inline-block;\n  }\n  input {\n    margin-top: 5vh;\n    display: block;\n    width: 10vw;\n    padding: 0.8em;\n    outline: none;\n    border: 1px solid #e3e3e3;\n    border-radius: 2px;\n  }\n  .zyhselect {\n    margin-top: 5vh;\n    display: block;\n    width: 10vw;\n    padding: 0.8em;\n    outline: none;\n    border: 1px solid #e3e3e3;\n    border-radius: 2px;\n    margin-right: 2vw;\n    margin-top: 5vh;\n  }\n  .selectcontainer {\n    display: flex;\n    margin-right: 5vw;\n  }\n  .btncontainer {\n    margin-top: 5vh;\n    display: flex;\n    justify-content: center;\n  }\n  .leftbtn {\n    margin-right: 5vw;\n  }\n  .maintable {\n    flex-direction: column;\n    align-content: center;\n    justify-content: center;\n    text-align: center;\n    margin: 20px auto;\n    width: 75vw;\n    height: 75vh;\n  }\n  table {\n    position: relative;\n    width: 100%;\n    border: 1px solid #ccc;\n    text-align: center;\n    tbody {\n      border-collapse: separate;\n      height: 100%;\n    }\n    td,\n    th {\n      padding: 5px;\n      border: 1px solid #ccc;\n    }\n  }\n  .rolltable {\n    top: -1px;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    background: linear-gradient(#fff, transparent) top / 100% 100px, radial-gradient(at 50% -15px, rgba(0, 0, 0, 0.8), transparent 70%) top / 100000% 12px;\n    background-repeat: no-repeat;\n    background-attachment: local, scroll;\n  }\n  .ssqbutton1 {\n    margin-top: 3vh;\n    margin-bottom: 5vh;\n    width: 150px;\n    height: 40px;\n    padding: 0 30px;\n    line-height: 60px;\n    text-align: center;\n    position: relative;\n    appearance: none;\n    background: #dfd8c8;\n    border: none;\n    color: white;\n    font-size: 1.2em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    border-radius: 100px;\n  }\n  .ssqbutton1 span {\n    position: relative;\n    top: -20%;\n  }\n  .ssqbutton1::before {\n    --size: 0;\n    content: \"\";\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #0b72bbb2, transparent);\n    transform: translate(-50%, -50%);\n    transition: width 0.2s ease, height 0.2s ease;\n  }\n  .ssqbutton1:hover::before {\n    --size: 400px;\n  }\n  .ssqbutton1-1 {\n    margin: 10px auto;\n    width: 150px;\n    height: 40px;\n    padding: 0 30px;\n    line-height: 60px;\n    text-align: center;\n    position: relative;\n    appearance: none;\n    background: #0b71bb;\n    border: none;\n    color: white;\n    font-size: 1.2em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    border-radius: 0px;\n  }\n  .ssqbutton1-1 span {\n    position: relative;\n    top: -20%;\n  }\n  .ssqbutton1-1::before {\n    --size: 0;\n    content: \"\";\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #abc9de, transparent);\n    transform: translate(-50%, -50%);\n    transition: width 0.2s ease, height 0.2s ease;\n  }\n  .ssqbutton1-1:hover::before {\n    --size: 400px;\n  }\n  .ssqbutton1-2 {\n    margin: 10px auto;\n    width: 150px;\n    height: 40px;\n    padding: 0 30px;\n    line-height: 60px;\n    text-align: center;\n    position: relative;\n    appearance: none;\n    background: #dfd8c8;\n    border: none;\n    color: white;\n    font-size: 1.2em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    border-radius: 0px;\n  }\n  .ssqbutton1-2 span {\n    position: relative;\n    top: -20%;\n  }\n  .ssqbutton1-2::before {\n    --size: 0;\n    content: \"\";\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #99c4e5, transparent);\n    transform: translate(-50%, -50%);\n    transition: width 0.2s ease, height 0.2s ease;\n  }\n  .ssqbutton1-2:hover::before {\n    --size: 400px;\n  }\n  .inputBox {\n    position: left;\n    display: inline-block;\n    width: 200px;\n    height: 32px;\n    margin: 20px 10px;\n  }\n  \n  .seaButton {\n    display: block;\n    text-align: center;\n    margin-top: 15px;\n    margin-bottom: 10px;\n  }\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}