{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      anv: \"1\",\n      videoID: \"\",\n      videoType: \"全部\",\n      principleID: \"\",\n      videoInfo: [],\n      err: \"录像不存在！\",\n      boxContent: \"\"\n    };\n  },\n  methods: {\n    handleMouseMove(event) {\n      const x = event.pageX - event.target.offsetLeft;\n      const y = event.pageY - event.target.offsetTop;\n      event.target.style.setProperty('--x', `${x}px`);\n      event.target.style.setProperty('--y', `${y}px`);\n    },\n    fetchVideoInfo() {\n      axios.post(\"http://localhost:7078/api/videoInfo\", {\n        videoID: this.videoID,\n        videoType: this.videoType,\n        principleID: this.principleID\n      }).then(res => {\n        this.videoInfo = res.data;\n        console.log(res.data);\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    },\n    delvideoInfo(event, avideoID) {\n      axios.post('http://localhost:7078/api/delvideoInfo', {\n        videoID: avideoID\n      }).then(res => {\n        this.videoInfo = res.data;\n        console.log(res.data);\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    },\n    addvideoInfo(event, avideoID) {\n      axios.post('http://localhost:7078/api/addvideoInfo', {\n        videoID: this.videoID,\n        videoType: this.videoType,\n        principleID: this.principleID,\n        recordTime: this.recordTime,\n        uploadTime: this.uploadTime\n      }).then(res => {\n        this.videoInfo = res.data;\n        console.log(res.data);\n      }).catch(err => {\n        this.boxContent = this.err;\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","anv","videoID","videoType","principleID","videoInfo","err","boxContent","methods","handleMouseMove","event","x","pageX","target","offsetLeft","y","pageY","offsetTop","style","setProperty","fetchVideoInfo","post","then","res","console","log","catch","delvideoInfo","avideoID","addvideoInfo","recordTime","uploadTime"],"sources":["C:\\GitHubWarehouse\\2023-TJU-DBD-Police-Affair-System\\My-front\\dbproject\\src\\components\\PoliceManagement\\VideoManagement.vue"],"sourcesContent":["<template>\n  <el-header class=\"sub-header\" @mousemove=\"handleMouseMove\">\n    <div>&nbsp;&nbsp;警员管理&nbsp;>&nbsp;执法录像管理</div>\n  </el-header>\n  <el-tabs v-model=\"anv\" type=\"border-card\" style=\"margin-top: 10vh;\">\n    <el-tab-pane label=\"查询录像\" name=\"1\">\n      <div style=\"text-align: center;\">\n        <section>\n          <div>\n            <table style=\"display: inline-block; text-align: left;\">\n              <tr>\n                <td>\n                  <el-text class=\"noteText\" type=\"primary\">录像ID:</el-text>\n                  <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"videoID\" placeholder=\"录像ID\" clearable maxlength=\"5\" @input=\"handleInput($event, 'videoID')\" show-word-limit />\n                </td>\n                <td>\n                  <el-text class=\"noteText\" type=\"primary\">警员警号:</el-text>\n                  <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"principleID\" placeholder=\"涉及警员的警号\" clearable maxlength=\"7\" @input=\"handleInput($event, 'principleID')\" show-word-limit />\n                </td>\n              </tr>\n              <div>\n                <el-text class=\"noteText\" type=\"primary\">录像类别:</el-text>\n                <el-select class=\"ssqinputinfobox\" v-model=\"videoType\">\n                  <el-option value=\"全部\">全部录像</el-option>\n                  <el-option value=\"审讯\">审讯</el-option>\n                  <el-option value=\"监控\">监控</el-option>\n                  <el-option value=\"调查\">调查</el-option>\n                </el-select>\n              </div>\n            </table>\n            <div class=\"seaButton\">\n              <el-button type=\"primary\" @click=\"fetchVideoInfo\">\n                <span>查询</span>\n              </el-button>\n            </div>\n          </div>\n          <!-- 表格显示获取的录像信息 -->\n          <el-table :data=\"videoInfo\" v-if=\"true\" stripe height=\"450\" @wheel.passive.stop>\n            <el-table-column prop=\"videoID\" label=\"录像编号\" sortable />\n            <el-table-column prop=\"recordTime\" label=\"记录时间\" sortable />\n            <el-table-column prop=\"uploadTime\" label=\"上传时间\" sortable />\n            <el-table-column prop=\"videoType\" label=\"录像类型\" sortable />\n            <el-table-column prop=\"principleID\" label=\"涉及警员的警号\" sortable />\n            <el-table-column align=\"right\" width=\"100px\"></el-table-column>\n          </el-table>\n          <!-- 错误提示 -->\n          <div v-else>\n            {{ boxContent }}\n          </div>\n        </section>\n      </div>\n    </el-tab-pane>\n    <el-tab-pane label=\"删除录像\" name=\"2\">\n      <div style=\"text-align: center;\">\n        <table style=\"display: inline-block;text-align: left;\">\n          <section>\n            <div class=\"inputcontainer\">\n              <label style=\"position: relative; display: block\">\n                                      <el-text class=\"noteText\" type=\"primary\">输入录像ID</el-text>\n                                      <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"videoID\" placeholder=\"录像ID\" clearable maxlength=\"5\"\n                                      oninput=\"value=value.replace(/[^\\d.]/g,'')\" show-word-limit />\n                                      </label>\n            </div>\n            <div class=\"seaButton\">\n              <el-button type=\"primary\" @click=\"delvideoInfo($event, videoID)\">\n                <span>删除</span>\n              </el-button>\n            </div>\n          </section>\n        </table>\n      </div>\n    </el-tab-pane>\n    <el-tab-pane label=\"增加录像\" name=\"3\">\n      <div style=\"text-align: center;\">\n        <table style=\"display: inline-block;text-align: left;\">\n          <section>\n            <table style=\"display: inline-block; text-align: left;\">\n              <tr>\n                <td>\n                  <el-text class=\"noteText\" type=\"primary\">录像ID:</el-text>\n                  <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"videoID\" placeholder=\"录像ID\" clearable maxlength=\"5\" @input=\"handleInput($event, 'videoID')\" show-word-limit />\n                </td>\n                <td>\n                  <el-text class=\"noteText\" type=\"primary\">警员警号:</el-text>\n                  <el-input class=\"ssqinputinfobox\" type=\"text\" v-model=\"principleID\" placeholder=\"涉及警员的警号\" clearable maxlength=\"7\" @input=\"handleInput($event, 'principleID')\" show-word-limit />\n                </td>\n              </tr>\n              <div>\n                <el-text class=\"noteText\" type=\"primary\">录像类别:</el-text>\n                <el-select class=\"ssqinputinfobox\" v-model=\"videoType\">\n                  <el-option value=\"全部\">全部录像</el-option>\n                  <el-option value=\"审讯\">审讯</el-option>\n                  <el-option value=\"监控\">监控</el-option>\n                  <el-option value=\"调查\">调查</el-option>\n                </el-select>\n              </div>\n            </table>\n            <div class=\"seaButton\">\n              <el-button type=\"primary\" @click=\"addvideoInfo\">\n                <span>增加</span>\n              </el-button>\n            </div>\n          </section>\n        </table>\n      </div>\n    </el-tab-pane>\n  </el-tabs>\n</template>\n\n<script>\n  import axios from \"axios\";\n  export default {\n    data() {\n      return {\n        anv: \"1\",\n        videoID: \"\",\n        videoType: \"全部\",\n        principleID: \"\",\n        videoInfo: [],\n        err: \"录像不存在！\",\n        boxContent: \"\",\n      };\n    },\n    methods: {\n      handleMouseMove(event) {\n        const x = event.pageX - event.target.offsetLeft;\n        const y = event.pageY - event.target.offsetTop;\n        event.target.style.setProperty('--x', `${x}px`);\n        event.target.style.setProperty('--y', `${y}px`);\n      },\n      fetchVideoInfo() {\n        axios\n          .post(\"http://localhost:7078/api/videoInfo\", {\n            videoID: this.videoID,\n            videoType: this.videoType,\n            principleID: this.principleID,\n          })\n          .then((res) => {\n            this.videoInfo = res.data;\n            console.log(res.data);\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          });\n      },\n      delvideoInfo(event, avideoID) {\n        axios\n          .post('http://localhost:7078/api/delvideoInfo', {\n            videoID: avideoID,\n          })\n          .then((res) => {\n            this.videoInfo = res.data;\n            console.log(res.data);\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          });\n      },\n      addvideoInfo(event, avideoID) {\n        axios\n          .post('http://localhost:7078/api/addvideoInfo', {\n            videoID: this.videoID,\n            videoType: this.videoType,\n            principleID: this.principleID,\n            recordTime: this.recordTime,\n            uploadTime: this.uploadTime,\n          })\n          .then((res) => {\n            this.videoInfo = res.data;\n            console.log(res.data);\n          })\n          .catch((err) => {\n            this.boxContent = this.err;\n            console.log(err);\n          });\n      }\n    },\n  };\n</script>\n\n<style lang=\"postcss\" scoped>\n  .sub-header {\n    overflow: hidden;\n    display: flex;\n    position: absolute;\n    top: 70px;\n    left: 199px;\n    width: calc(100% - 199px);\n    height: 7vh;\n    min-height: 40px;\n    align-items: center;\n    /* 文字竖直方向居中对齐 */\n    background-color: #1f2cdf;\n    box-shadow: inset -500px 0px 200px 0px rgba(4, 0, 113, 0.856);\n    color: #ffffff;\n    font-size: 28px;\n  }\n  .sub-header::before {\n    --size: 0;\n    content: '';\n    position: absolute;\n    left: var(--x);\n    top: var(--y);\n    width: var(--size);\n    height: var(--size);\n    background: radial-gradient(circle closest-side, #5a65ff, transparent);\n    transform: translate(-50%, -50%);\n    transition: width .2s ease, height .2s ease;\n  }\n  .sub-header:hover::before {\n    --size: 400px;\n  }\n  .main {\n    margin-top: 10vh;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    width: 100%;\n    height: 120vh;\n    min-width: 800px;\n  }\n  .ssqinputinfobox {\n    position: left;\n    display: inline-block;\n    width: 200px;\n    height: 32px;\n    margin: 20px 10px;\n  }\n  .ssqinputtext {\n    text-align: center;\n    margin-top: 7vh;\n    margin-left: 5vw;\n    margin-right: 2vw;\n    width: auto;\n    display: inline-block;\n  }\n  .noteText {\n    font-size: 18px;\n    text-align: center;\n    margin: 20px 0px;\n    width: 10vw;\n    display: inline-block;\n  }\n  .noteTexta {\n    font-size: 18px;\n    text-align: center;\n    margin-bottom: 3.5vh;\n    width: 10vw;\n    display: inline-block;\n  }\n  input {\n    margin-top: 5vh;\n    margin-right: 8vh;\n    text-align: left;\n    display: block;\n    width: 10vw;\n    padding: 0.8em;\n    outline: none;\n    border: 1px solid #e3e3e3;\n    border-radius: 2px;\n  }\n  .seaButton {\n    display: block;\n    text-align: center;\n    margin-top: 15px;\n    margin-bottom: 10px;\n  }\n</style>\n"],"mappings":"AA8GE,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,GAAG;MACRC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE,IAAI;MACfC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,GAAG,EAAE,QAAQ;MACbC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAACC,KAAK,EAAE;MACrB,MAAMC,CAAA,GAAID,KAAK,CAACE,KAAI,GAAIF,KAAK,CAACG,MAAM,CAACC,UAAU;MAC/C,MAAMC,CAAA,GAAIL,KAAK,CAACM,KAAI,GAAIN,KAAK,CAACG,MAAM,CAACI,SAAS;MAC9CP,KAAK,CAACG,MAAM,CAACK,KAAK,CAACC,WAAW,CAAC,KAAK,EAAG,GAAER,CAAE,IAAG,CAAC;MAC/CD,KAAK,CAACG,MAAM,CAACK,KAAK,CAACC,WAAW,CAAC,KAAK,EAAG,GAAEJ,CAAE,IAAG,CAAC;IACjD,CAAC;IACDK,cAAcA,CAAA,EAAG;MACfrB,KAAI,CACDsB,IAAI,CAAC,qCAAqC,EAAE;QAC3CnB,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,WAAW,EAAE,IAAI,CAACA;MACpB,CAAC,EACAkB,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAClB,SAAQ,GAAIkB,GAAG,CAACvB,IAAI;QACzBwB,OAAO,CAACC,GAAG,CAACF,GAAG,CAACvB,IAAI,CAAC;MACvB,CAAC,EACA0B,KAAK,CAAEpB,GAAG,IAAK;QACd,IAAI,CAACC,UAAS,GAAI,IAAI,CAACD,GAAG;QAC1BkB,OAAO,CAACC,GAAG,CAACnB,GAAG,CAAC;MAClB,CAAC,CAAC;IACN,CAAC;IACDqB,YAAYA,CAACjB,KAAK,EAAEkB,QAAQ,EAAE;MAC5B7B,KAAI,CACDsB,IAAI,CAAC,wCAAwC,EAAE;QAC9CnB,OAAO,EAAE0B;MACX,CAAC,EACAN,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAClB,SAAQ,GAAIkB,GAAG,CAACvB,IAAI;QACzBwB,OAAO,CAACC,GAAG,CAACF,GAAG,CAACvB,IAAI,CAAC;MACvB,CAAC,EACA0B,KAAK,CAAEpB,GAAG,IAAK;QACd,IAAI,CAACC,UAAS,GAAI,IAAI,CAACD,GAAG;QAC1BkB,OAAO,CAACC,GAAG,CAACnB,GAAG,CAAC;MAClB,CAAC,CAAC;IACN,CAAC;IACDuB,YAAYA,CAACnB,KAAK,EAAEkB,QAAQ,EAAE;MAC5B7B,KAAI,CACDsB,IAAI,CAAC,wCAAwC,EAAE;QAC9CnB,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7B0B,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BC,UAAU,EAAE,IAAI,CAACA;MACnB,CAAC,EACAT,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAClB,SAAQ,GAAIkB,GAAG,CAACvB,IAAI;QACzBwB,OAAO,CAACC,GAAG,CAACF,GAAG,CAACvB,IAAI,CAAC;MACvB,CAAC,EACA0B,KAAK,CAAEpB,GAAG,IAAK;QACd,IAAI,CAACC,UAAS,GAAI,IAAI,CAACD,GAAG;QAC1BkB,OAAO,CAACC,GAAG,CAACnB,GAAG,CAAC;MAClB,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}